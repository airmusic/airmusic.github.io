+++
Categories = ["Unity3D", "SVN"]
Description = "Unity3D项目SVN资源管理的小技巧"
Tags = ["Unity3D", "SVN"]
date = "2015-08-05T19:42:00+08:00"
menu = "main"
title = "Unity3D项目SVN资源管理的小技巧"

+++
管理项目有多种工具，大家使用最多的是SVN和P4，P4对于美术资源非常合适，而SVN又适合代码资源。在手游时代，大家用的最多的引擎是Cocos和Unity3D，下面我主要说下Unity3D在SVN中的资源管理上传的一些小技巧和注意事项。

一、别忘了meta！
Unity3D的资源在编辑器编译后会自动生成一个meta文件，在默认的配置下，这个文件是隐藏的，所以要在文件夹选项的查看中的显示隐藏的文件，才会看到它。
![http://img.itc.cn/photo/jsdfbqI7Jx8](http://img.itc.cn/photo/jsdfbqI7Jx8)

这个文件在我的理解下就是这个资源的身份证，里面有个ID，用于资源的引用，他们和资源长得和双胞胎一样，命名相同并带着后缀，只不过最后多了.meta的文件后缀。但是模型、音频、贴图文件的meta文件会保存模型与动画、音频、图片的属性，当你在编辑器中修改这些资源各种属性后，会修改相应的meta文件。
![http://img.itc.cn/photo/jsdfyCJGKzL](http://img.itc.cn/photo/jsdfyCJGKzL)
但是我们经常往往在meta文件上出错，下面总结下经常出现的问题和解决方法。

 

1、忘记上传meta文件：漏传meta文件会导致其他使用这个新资源的同学本地自动生成一个另外的meta，如果你自己或者别人发现了漏传，再补传后，那些已经自动生成meta文件的同学就会发现这个meta文件永远的冲突了，红叹号。因为编辑器编译的数据储存在本地的Library文件夹里，所以，上传资源的同学永远的记住这一点：资源一定要成对上传，不要忘记meta。同样，如果删除的话也要成对删除！还有文件夹也是有meta文件的哦，大家往往最多忘记上传的，就是文件夹对应的meta文件。但是工作中总有失误的时候，如果大家看到好多红叹号心烦的时候，只需要删掉本地的Library文件夹，从SVN上拉取最新的资源，然后打开编辑器花大概半小时的时间重新编译（去活动下身体，或者休息下眼镜吧），生成新的Library文件夹。基本上可以解决meta文件冲突的问题。

 

2、除了重命名，千万不要复制meta文件。如果你想复制一个资源去制作类似效果的新资源时，千万不要复制meta文件，只需要复制资源，重命名后再进入编辑器自动生成新的meta，否则的话就会出现同ID的meta文件，导致新做的资源毁坏，变成编辑器无法识别的无效资源。只有在修改资源名称的时候才会复制meta文件，想要重命名资源，而且不丢失以前的引用关系，最快的方法就是把旧的文件连同meta文件一起复制，然后把复制的文件同时修改为新的名称，删除旧资源，重新上传新命名后的资源和meta文件即可。

 

二、下载或上传时要关掉U3D编辑器

当你要制作和修改一个资源的时候，首先确保你的资源是最新的，所以首先要更新SVN上的最新资源，然后打开编辑器，编辑器会编译一段时间。修改和制作完成后，要上传资源时，必须要保存场景文件，或者关闭编辑器，这时的资源才是保存成功的，否者，你所做出的修改都记录在内存里，不会保存在资源里，所以上传资源前养成保存场景文件或者关闭编辑器的习惯。总之一句话：上传或下载SVN资源，请关闭编辑器。

 

三、小心.svn隐藏文件夹

SVN目录下都会有.svn的隐藏文件夹，保存着SVN的目录结构与资源状态。在文件夹选项的查看中的显示隐藏的文件，你就会看到它。

![http://img.itc.cn/photo/jsdfPQ5cvV8](http://img.itc.cn/photo/jsdfPQ5cvV8)

SVN中的资源需要转移时，注意不要一起转移svn的隐藏目录。否则，不管你如何修改资源文件，你的文件状态会出现各种混乱。（其实是你本地认为资源上传了，但是其实并没有，都是.svn文件夹惹的祸）

 

所以要把文件夹里的文件转移时，要使用SVN下的导出功能，把所有的文件导出到新的目录下。
![http://img.itc.cn/photo/jsdfnboWySg](http://img.itc.cn/photo/jsdfnboWySg)


确保文件没有任何的SVN标记，然后重新上传新目录下的文件，删除旧目录下的文件。还有个笨办法，就是把要转移的文件夹剪切出来，然后把里面所有隐藏的.svn文件夹全部删掉，然后再放到新的目录里重新上传。

 

四、资源无法上传

出现这种情况的问题很多，比如资源冲突了、树冲突了、没有权限了、SVN服务器抽风了、密码过期了、网络断了。但是在确定不是以上原因的情况下，去根目录下使用清理（Clean）命令，然后重新更新SVN，一般都会解决了。（万能的小刷子！）
![http://img.itc.cn/photo/jsdfnboWySg](http://img.itc.cn/photo/jsdfnboWySg)


 

以上就是我总结的几点Unity3D项目在SVN管理项目资源时的技巧经验，希望可以帮助到同样遇到这些问题的同学们